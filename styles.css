:root { color-scheme: dark; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
body { margin:0; background:#0a0f18; overflow:hidden; }
#app { position:relative; width:100vw; height:100vh; }
#gameCanvas { width:100%; height:100%; display:block; touch-action:none; }
.panel { position:absolute; background:rgba(12,18,31,.82); border:1px solid #2f4d6a; border-radius:12px; padding:8px; backdrop-filter: blur(3px); font-size:14px; }
#hud { left:10px; top:10px; display:flex; gap:10px; flex-wrap:wrap; }
#controls { right:10px; top:10px; display:flex; gap:6px; }
button, select { border:1px solid #4f7ba6; border-radius:10px; background:#17324d; color:#d2e8ff; padding:8px 10px; font-size:14px; }
#towerBar { left:10px; bottom:10px; display:flex; gap:6px; max-width:96vw; overflow:auto; }
.towerBtn.locked { opacity:.35; }
#selectionPanel { right:10px; bottom:10px; width:260px; }
#metaPanel { left:10px; top:62px; width:250px; display:flex; flex-direction:column; gap:6px; }
#settingsPanel { right:10px; top:58px; display:flex; flex-direction:column; gap:6px; }
.hidden { display:none; }
#toast { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); padding:10px 14px; border-radius:8px; background:#1f5838; opacity:0; transition:opacity .2s; pointer-events:none; }
#toast.show { opacity:1; }
@media (max-width: 900px) {
  .panel { font-size:12px; padding:6px; }
  button, select { font-size:12px; padding:8px; }
  #metaPanel { width:200px; max-height:45vh; overflow:auto; }
  #settingsPanel { max-height:35vh; overflow:auto; }
}
